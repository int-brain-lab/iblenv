<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Download the public datasets &mdash; IBL Library  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Loading Data" href="../loading_examples.html" />
    <link rel="prev" title="Get to know the datasets and folder structure" href="data_structure.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> IBL Library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Open Neurophysiology Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference external" href="https://int-brain-lab.github.io/ONE/">Full documentation Website for ONE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Public</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/public_introduction.html">Publicly available IBL data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/data_release_pilot.html">Data Release - Pilot Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_release_repro_ephys.html">Data Release - Reproducible Ephys Paper</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_release_brainwidemap.html">Data Release - Brain Wide Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/information_contact.html">Information and troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Exploring IBL Data</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="data_structure.html">Get to know the datasets and folder structure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Download the public datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Environment">Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Install-packages">Install packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Setting-up-credentials">Setting up credentials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Explore-and-download-data-using-the-ONE-api">Explore and download data using the ONE-api</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Useful-links">Useful links</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Launch-the-ONE-api">Launch the ONE-api</a></li>
<li class="toctree-l3"><a class="reference internal" href="#List-all-sessions-available">List all sessions available</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Find-a-session-that-has-a-dataset-of-interest">Find a session that has a dataset of interest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Find-a-session-associated-with-a-given-release">Find a session associated with a given release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Downloading-data-using-the-ONE-api">Downloading data using the ONE-api</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Loading-different-objects">Loading different objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Advanced-examples">Advanced examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Example-1:-Searching-for-sessions-from-a-specific-lab">Example 1: Searching for sessions from a specific lab</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../loading_examples.html">Loading Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Unified Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_contribution.html">How to contribute</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples &amp; Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atlas_examples.html">Atlas Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs_wheel_moves.html">Working with wheel data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../010_api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Download the public datasets</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks_external/data_download.nblink.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="Download-the-public-datasets">
<h1>Download the public datasets<a class="headerlink" href="#Download-the-public-datasets" title="Permalink to this heading"></a></h1>
<p>To get a feel for the structure of the data we recommended first downloading the alf data for a single repeated site session and exploring how the data is stored locally on disk. An example alf folder can be downloaded from <a class="reference external" href="https://ibl-brain-wide-map-public.s3.amazonaws.com/sample_data/mainenlab/Subjects/ZM_2241/2020-01-30/001/alf_ZM2241_2020-01-30_001.zip">here</a>. Documentation explaining the data structure can be found
<a class="reference external" href="https://int-brain-lab.github.io/iblenv/notebooks_external/data_structure.html">here</a>.</p>
<p>In the following sections, we explain how to use the <a class="reference external" href="https://int-brain-lab.github.io/ONE/">ONE-api</a> to search for and download datasets for any session released. Using the ONE-api is the recommended method to browse through and download available datasets.</p>
<section id="Installation">
<h2>Installation<a class="headerlink" href="#Installation" title="Permalink to this heading"></a></h2>
<section id="Environment">
<h3>Environment<a class="headerlink" href="#Environment" title="Permalink to this heading"></a></h3>
<p>To use IBL data you will need a python environment with python &gt; 3.7. To create a new environment from scratch you can install <a class="reference external" href="https://www.anaconda.com/products/distribution#download-section">anaconda</a> and follow the instructions below to create a new python environment (more information can also be found <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">here</a>)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>conda create --name ibl python=3.9
</pre></div>
</div>
<p>Make sure to always activate this environment before installing or working with the IBL data</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>conda activate ibl
</pre></div>
</div>
</section>
<section id="Install-packages">
<h3>Install packages<a class="headerlink" href="#Install-packages" title="Permalink to this heading"></a></h3>
<p>To use IBL data you will need to install the ONE-api package. We also recommend installing ibllib. These can be installed via pip.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">ONE</span><span class="o">-</span><span class="n">api</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">ibllib</span>
</pre></div>
</div>
</section>
<section id="Setting-up-credentials">
<h3>Setting up credentials<a class="headerlink" href="#Setting-up-credentials" title="Permalink to this heading"></a></h3>
<p>Credentials can be setup in a python terminal in the following way</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from one.api import ONE
pw = &#39;international&#39;
one = ONE(base_url=&#39;https://openalyx.internationalbrainlab.org&#39;, password=pw, silent=True)
</pre></div>
</div>
</div>
</section>
</section>
<section id="Explore-and-download-data-using-the-ONE-api">
<h2>Explore and download data using the ONE-api<a class="headerlink" href="#Explore-and-download-data-using-the-ONE-api" title="Permalink to this heading"></a></h2>
<section id="Useful-links">
<h3>Useful links<a class="headerlink" href="#Useful-links" title="Permalink to this heading"></a></h3>
<p>To get a good understanding of the ONE-api and the various methods available we recommend working through these tutorials.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://int-brain-lab.github.io/iblenv/notebooks_external/one_quickstart.html">ONE quickstart</a></p></li>
<li><p><a class="reference external" href="https://int-brain-lab.github.io/ONE/notebooks/one_search/one_search.html">Searching with ONE</a></p></li>
<li><p><a class="reference external" href="https://int-brain-lab.github.io/ONE/notebooks/one_list/one_list.html">Listing with ONE</a></p></li>
<li><p><a class="reference external" href="https://int-brain-lab.github.io/ONE/notebooks/one_load/one_load.html">Loading with ONE</a></p></li>
<li><p><a class="reference external" href="https://int-brain-lab.github.io/ONE/notebooks/one_advanced/one_advanced.html">ONE alyx rest API</a>(advanced)</p></li>
</ul>
<p>Quick-start examples are given below.</p>
</section>
<section id="Launch-the-ONE-api">
<h3>Launch the ONE-api<a class="headerlink" href="#Launch-the-ONE-api" title="Permalink to this heading"></a></h3>
<p>Prior to do any searching / downloading, you need to instantiate ONE :</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from one.api import ONE
one = ONE(base_url=&#39;https://openalyx.internationalbrainlab.org&#39;)
</pre></div>
</div>
</div>
</section>
<section id="List-all-sessions-available">
<h3>List all sessions available<a class="headerlink" href="#List-all-sessions-available" title="Permalink to this heading"></a></h3>
<p>Once ONE is instantiated, you can use the REST ONE-api to list all sessions publicly available:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>sessions = one.alyx.rest(&#39;sessions&#39;, &#39;list&#39;)
</pre></div>
</div>
</div>
<p>Each session is given a unique identifier (EID); this EID is what you will use to download data for a given session:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Take the first session
example_sess = sessions[0]
# Each session has a unique experiment id
eid = example_sess[&#39;id&#39;]
</pre></div>
</div>
</div>
</section>
<section id="Find-a-session-that-has-a-dataset-of-interest">
<h3>Find a session that has a dataset of interest<a class="headerlink" href="#Find-a-session-that-has-a-dataset-of-interest" title="Permalink to this heading"></a></h3>
<p>Not all sessions will have all the datasets available. As such, it may be important for you to filter and search for only sessions with particular datasets of interest. The detailed list of datasets can be found in this <a class="reference external" href="https://docs.google.com/document/d/1OqIqqakPakHXRAwceYLwFY9gOrm8_P62XIfCTnHwstg/edit#">document</a>.</p>
<p>In the example below, we want to find all sessions that have <code class="docutils literal notranslate"><span class="pre">spikes.times</span></code> data:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Find sessions that have spikes.times datasets
sessions_with_spikes = one.alyx.rest(&#39;sessions&#39;, &#39;list&#39;, dataset_types=&#39;spikes.times&#39;)
</pre></div>
</div>
</div>
</section>
<section id="Find-a-session-associated-with-a-given-release">
<h3>Find a session associated with a given release<a class="headerlink" href="#Find-a-session-associated-with-a-given-release" title="Permalink to this heading"></a></h3>
<p>Datasets are often associated to a publication, and are tagged as such to facilitate reproducibility of analysis. For example:</p>
<ul class="simple">
<li><p>datasets used in the analysis of the <a class="reference external" href="https://www.biorxiv.org/content/10.1101/2022.05.09.491042v3">Reproducible ephys data paper</a> can be found using the tag <code class="docutils literal notranslate"><span class="pre">'2022_Q2_IBL_et_al_RepeatedSite'</span></code></p></li>
<li><p>datasets released as part of the Brainwide map data release can be found using the tag <code class="docutils literal notranslate"><span class="pre">'2022_Q4_IBL_et_al_BWM'</span></code></p></li>
</ul>
<p>The sessions associated with a given tag can be found in the following way (here taking the example of the Reproducible ephys):</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Find sessions that have data and are tagged for the repeated site paper
sessions_rep_site = one.alyx.rest(&#39;sessions&#39;, &#39;list&#39;, dataset_types=&#39;spikes.times&#39;, tag=&#39;2022_Q2_IBL_et_al_RepeatedSite&#39;)
</pre></div>
</div>
</div>
</section>
<section id="Downloading-data-using-the-ONE-api">
<h3>Downloading data using the ONE-api<a class="headerlink" href="#Downloading-data-using-the-ONE-api" title="Permalink to this heading"></a></h3>
<p>Once sessions of interest are identified with the unique identifier (EID), we can download all files in the <strong>alf</strong> collection:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Download all data in alf collection
files = one.load_collection(eid, &#39;alf&#39;, download_only=True)

# Show where files have been downloaded to
print(f&#39;Files downloaded to {files[0].parent}&#39;)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_rightCamera.times.npy: 100%|██████████| 6.63M/6.63M [00:00&lt;00:00, 21.3MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_trials.table.pqt: 100%|██████████| 68.7k/68.7k [00:00&lt;00:00, 1.14MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/rightROIMotionEnergy.position.npy: 100%|██████████| 160/160 [00:00&lt;00:00, 2.37kB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_bodyCamera.dlc.pqt: 100%|██████████| 2.91M/2.91M [00:00&lt;00:00, 14.2MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_wheel.position.npy: 100%|██████████| 10.2M/10.2M [00:00&lt;00:00, 23.9MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/licks.times.npy: 100%|██████████| 414k/414k [00:00&lt;00:00, 4.22MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_wheelMoves.peakAmplitude.npy: 100%|██████████| 15.8k/15.8k [00:00&lt;00:00, 291kB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/bodyCamera.ROIMotionEnergy.npy: 100%|██████████| 1.33M/1.33M [00:00&lt;00:00, 9.84MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_leftCamera.dlc.pqt: 100%|██████████| 53.3M/53.3M [00:00&lt;00:00, 109MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_rightCamera.features.pqt: 100%|██████████| 13.5M/13.5M [00:00&lt;00:00, 40.5MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/bodyROIMotionEnergy.position.npy: 100%|██████████| 160/160 [00:00&lt;00:00, 3.49kB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_trials.goCueTrigger_times.npy: 100%|██████████| 7.21k/7.21k [00:00&lt;00:00, 167kB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/leftCamera.ROIMotionEnergy.npy: 100%|██████████| 2.65M/2.65M [00:00&lt;00:00, 13.1MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_wheel.timestamps.npy: 100%|██████████| 10.2M/10.2M [00:00&lt;00:00, 32.6MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_leftCamera.times.npy: 100%|██████████| 2.65M/2.65M [00:00&lt;00:00, 7.98MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_bodyCamera.times.npy: 100%|██████████| 1.33M/1.33M [00:00&lt;00:00, 11.1MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_leftCamera.features.pqt: 100%|██████████| 5.62M/5.62M [00:00&lt;00:00, 27.3MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/rightCamera.ROIMotionEnergy.npy: 100%|██████████| 6.63M/6.63M [00:00&lt;00:00, 34.9MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/leftROIMotionEnergy.position.npy: 100%|██████████| 160/160 [00:00&lt;00:00, 3.08kB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_rightCamera.dlc.pqt: 100%|██████████| 116M/116M [00:00&lt;00:00, 164MB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_trials.stimOff_times.npy: 100%|██████████| 7.21k/7.21k [00:00&lt;00:00, 116kB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probes.description.json: 100%|██████████| 468/468 [00:00&lt;00:00, 6.13kB/s]
/home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/_ibl_wheelMoves.intervals.npy: 100%|██████████| 31.4k/31.4k [00:00&lt;00:00, 623kB/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Files downloaded to /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<p>To download the spikesorting data we need to find out which probe label (<code class="docutils literal notranslate"><span class="pre">probeXX</span></code>) was used for this session. This can be done by finding the probe insertion associated with this session</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>insertion = one.alyx.rest(&#39;insertions&#39;, &#39;list&#39;, session=eid)[0]
probe_label = insertion[&#39;name&#39;]
files = one.load_collection(eid, f&#39;alf/{probe_label}/pykilosort&#39;, download_only=True)

# Show where files have been downloaded to
print(f&#39;Files downloaded to {files[0].parent}&#39;)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/clusters.depths.0553d3ef-85dd-4df2-ba79-268ff12cbc7c.npy Bytes: 1928
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 0.00183868408203125/0.00183868408203125 [00:00&lt;00:00,  1.31s/it]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/spikes.templates.079ee1bf-4923-482a-9988-e068fe6b9b79.npy Bytes: 25299448
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
  0%|          | 0/24.12743377685547 [00:00&lt;?, ?it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/channels.mlapdv.2ad52863-5de2-47ff-8817-0fdc6ab38478.npy Bytes: 4736
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

100%|██████████| 0.0045166015625/0.0045166015625 [00:00&lt;00:00,  2.17it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/spikes.clusters.24c55988-9e36-4e11-afae-0800a3073553.npy Bytes: 25299448
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

  0%|          | 0/24.12743377685547 [00:00&lt;?, ?it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/clusters.metrics.387fe842-21d4-4c2b-bbd5-682911b91995.pqt Bytes: 59742
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>


  0%|          | 0/0.05697441101074219 [00:00&lt;?, ?it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/drift.um.38d9b5ab-b423-4424-9596-f4e65a5ef3a1.npy Bytes: 181856
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>



  0%|          | 0/0.173431396484375 [00:00&lt;?, ?it/s]

100%|██████████| 0.05697441101074219/0.05697441101074219 [00:00&lt;00:00,  2.61s/it]



100%|██████████| 0.173431396484375/0.173431396484375 [00:00&lt;00:00,  1.28s/it]
 17%|█▋        | 4.0/24.12743377685547 [00:00&lt;00:02,  6.79it/s]
 17%|█▋        | 4.0/24.12743377685547 [00:00&lt;00:03,  5.87it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/_phy_spikes_subset.waveforms.5a43618a-f4fe-40f1-8b02-7751872afef1.npy Bytes: 488588928
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>


 33%|███▎      | 8.0/24.12743377685547 [00:00&lt;00:01, 12.58it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/clusters.channels.6422c6f4-44f7-42f7-8fac-e8563b750a4b.npy Bytes: 3728
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>



100%|██████████| 0.0035552978515625/0.0035552978515625 [00:00&lt;00:00,  3.79it/s]
 50%|████▉     | 12.0/24.12743377685547 [00:00&lt;00:00, 18.19it/s]
 66%|██████▋   | 16.0/24.12743377685547 [00:00&lt;00:00, 21.86it/s]
 83%|████████▎ | 20.0/24.12743377685547 [00:01&lt;00:00, 22.18it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/spikes.amps.6c546594-937e-4983-a1a1-cd487076f6a1.npy Bytes: 50598768
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>



100%|██████████| 24.12743377685547/24.12743377685547 [00:01&lt;00:00, 18.63it/s]

 66%|██████▋   | 16.0/24.12743377685547 [00:01&lt;00:00, 14.58it/s]

  1%|          | 4.0/465.9547119140625 [00:00&lt;01:07,  6.82it/s]

  2%|▏         | 8.0/465.9547119140625 [00:00&lt;00:36, 12.56it/s]

  3%|▎         | 12.0/465.9547119140625 [00:00&lt;00:24, 18.23it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/clusters.uuids.6eac618e-df35-4c5b-9125-d8c6b3219c36.csv Bytes: 16655
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 0.015883445739746094/0.015883445739746094 [00:00&lt;00:00,  2.46s/it]


  3%|▎         | 16.0/465.9547119140625 [00:00&lt;00:20, 21.80it/s]
 83%|████████▎ | 20.0/24.12743377685547 [00:01&lt;00:00, 12.48it/s]

  4%|▍         | 20.0/465.9547119140625 [00:01&lt;00:17, 25.72it/s]


  8%|▊         | 4.0/48.25474548339844 [00:00&lt;00:06,  6.61it/s]

  5%|▌         | 24.0/465.9547119140625 [00:01&lt;00:16, 27.18it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/_kilosort_whitening.matrix.72356649-7603-4050-9614-9b53bd41d711.npy Bytes: 1179776
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
  0%|          | 0/1.1251220703125 [00:00&lt;?, ?it/s]

  6%|▌         | 28.0/465.9547119140625 [00:01&lt;00:16, 26.54it/s]
100%|██████████| 24.12743377685547/24.12743377685547 [00:02&lt;00:00, 11.42it/s]



 17%|█▋        | 8.0/48.25474548339844 [00:00&lt;00:04,  8.53it/s]

  7%|▋         | 32.0/465.9547119140625 [00:01&lt;00:16, 26.40it/s]

100%|██████████| 1.1251220703125/1.1251220703125 [00:00&lt;00:00,  2.38it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/_phy_spikes_subset.channels.7ae6d66e-d3a3-4b46-952f-c5b45f603cd0.npy Bytes: 2979328
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
  0%|          | 0/2.84130859375 [00:00&lt;?, ?it/s]

  9%|▊         | 40.0/465.9547119140625 [00:01&lt;00:14, 29.55it/s]


 25%|██▍       | 12.0/48.25474548339844 [00:01&lt;00:03,  9.17it/s]

  9%|▉         | 44.0/465.9547119140625 [00:01&lt;00:15, 27.98it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/clusters.amps.97444759-7b15-428e-8875-a4b24c59ad77.npy Bytes: 3728
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

100%|██████████| 0.0035552978515625/0.0035552978515625 [00:00&lt;00:00,  4.13it/s]


 10%|█         | 48.0/465.9547119140625 [00:02&lt;00:15, 27.33it/s]


 33%|███▎      | 16.0/48.25474548339844 [00:01&lt;00:03, 10.06it/s]

100%|██████████| 2.84130859375/2.84130859375 [00:00&lt;00:00,  4.91it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/drift.times.984d9b43-a4ab-4afb-8c98-2dfbc585d729.npy Bytes: 20320
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>


100%|██████████| 0.019378662109375/0.019378662109375 [00:00&lt;00:00,  3.64s/it]


 13%|█▎        | 60.0/465.9547119140625 [00:02&lt;00:14, 28.43it/s]


 41%|████▏     | 20.0/48.25474548339844 [00:02&lt;00:02, 10.31it/s]

 14%|█▎        | 64.0/465.9547119140625 [00:02&lt;00:14, 27.66it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/clusters.peakToTrough.9958fec0-830d-4ff6-90dd-3210399fed15.npy Bytes: 3728
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 0.0035552978515625/0.0035552978515625 [00:00&lt;00:00,  2.89it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/channels.brainLocationIds_ccf_2017.9a52e086-3314-4a8c-a4df-fa5f5328b8ea.npy Bytes: 3200
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 0.0030517578125/0.0030517578125 [00:00&lt;00:00,  3.30it/s]


 15%|█▍        | 68.0/465.9547119140625 [00:02&lt;00:14, 27.05it/s]

 15%|█▌        | 72.0/465.9547119140625 [00:02&lt;00:14, 26.65it/s]


 50%|████▉     | 24.0/48.25474548339844 [00:02&lt;00:02, 10.73it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/clusters.waveformsChannels.9e065003-b521-484a-906d-270d42f7e5e0.npy Bytes: 57728
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
  0%|          | 0/0.0550537109375 [00:00&lt;?, ?it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/spikes.depths.a5bc7366-88ce-47a9-b503-2e6c4aa31d84.npy Bytes: 50598768
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

  0%|          | 0/48.25474548339844 [00:00&lt;?, ?it/s]

100%|██████████| 0.0550537109375/0.0550537109375 [00:00&lt;00:00,  2.94s/it]


 17%|█▋        | 80.0/465.9547119140625 [00:03&lt;00:14, 26.22it/s]


 58%|█████▊    | 28.0/48.25474548339844 [00:02&lt;00:01, 10.82it/s]

 18%|█▊        | 84.0/465.9547119140625 [00:03&lt;00:14, 26.06it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/_ibl_log.info_pykilosort.af7e4cd4-5774-4086-af34-c8d2187fd069.log Bytes: 3515
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 0.0033521652221679688/0.0033521652221679688 [00:00&lt;00:00,  3.02it/s]

  8%|▊         | 4.0/48.25474548339844 [00:00&lt;00:06,  6.86it/s]

 19%|█▉        | 88.0/465.9547119140625 [00:03&lt;00:16, 22.59it/s]


 66%|██████▋   | 32.0/48.25474548339844 [00:03&lt;00:01, 10.50it/s]
 17%|█▋        | 8.0/48.25474548339844 [00:00&lt;00:03, 12.60it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/templates.waveformsChannels.b9917116-7fc1-494f-89ee-f446aa5a7c1d.npy Bytes: 57728
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
  0%|          | 0/0.0550537109375 [00:00&lt;?, ?it/s]
100%|██████████| 0.0550537109375/0.0550537109375 [00:00&lt;00:00,  2.80s/it]


 20%|█▉        | 92.0/465.9547119140625 [00:03&lt;00:20, 18.44it/s]
 33%|███▎      | 16.0/48.25474548339844 [00:00&lt;00:01, 21.82it/s]
 41%|████▏     | 20.0/48.25474548339844 [00:01&lt;00:01, 25.75it/s]
 50%|████▉     | 24.0/48.25474548339844 [00:01&lt;00:00, 27.52it/s]


 75%|███████▍  | 36.0/48.25474548339844 [00:03&lt;00:01,  9.63it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/templates.amps.c2063910-1eef-4505-8ea9-53c838e2762b.npy Bytes: 3728
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 0.0035552978515625/0.0035552978515625 [00:00&lt;00:00,  1.85it/s]


 21%|██        | 96.0/465.9547119140625 [00:04&lt;00:21, 17.09it/s]
 58%|█████▊    | 28.0/48.25474548339844 [00:01&lt;00:00, 30.04it/s]

 21%|██▏       | 100.0/465.9547119140625 [00:04&lt;00:22, 15.99it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/drift_depths.um.c2958108-e7a7-4d8b-b620-0bbdfa22e5b1.npy Bytes: 200
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 0.00019073486328125/0.00019073486328125 [00:00&lt;00:00,  4.49s/it]

 75%|███████▍  | 36.0/48.25474548339844 [00:01&lt;00:00, 32.34it/s]


 83%|████████▎ | 40.0/48.25474548339844 [00:04&lt;00:00,  9.48it/s]
 83%|████████▎ | 40.0/48.25474548339844 [00:01&lt;00:00, 29.06it/s]

 22%|██▏       | 104.0/465.9547119140625 [00:04&lt;00:22, 15.81it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/templates.waveforms.c546a34b-229f-4a1f-b01d-9866b1af3632.npy Bytes: 4723328
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
  0%|          | 0/4.5045166015625 [00:00&lt;?, ?it/s]
100%|██████████| 48.25474548339844/48.25474548339844 [00:01&lt;00:00, 24.98it/s]


 23%|██▎       | 108.0/465.9547119140625 [00:05&lt;00:23, 15.23it/s]


 91%|█████████ | 44.0/48.25474548339844 [00:04&lt;00:00,  9.33it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/spikes.times.cf7cfa72-a5a1-4ffc-83ce-f7ced415d2bf.npy Bytes: 50598768
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

  0%|          | 0/48.25474548339844 [00:00&lt;?, ?it/s]

100%|██████████| 4.5045166015625/4.5045166015625 [00:00&lt;00:00,  7.09it/s]



100%|██████████| 48.25474548339844/48.25474548339844 [00:05&lt;00:00,  9.64it/s]


 25%|██▍       | 116.0/465.9547119140625 [00:05&lt;00:22, 15.45it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/clusters.waveforms.d24ac2d6-94e2-46c4-ab68-c3a3f3fbb6aa.npy Bytes: 4723328
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
  0%|          | 0/4.5045166015625 [00:00&lt;?, ?it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/_phy_spikes_subset.spikes.d2e83ce9-c0d5-48ec-9f05-eb0b1a2f636a.npy Bytes: 186328
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>



  0%|          | 0/0.17769622802734375 [00:00&lt;?, ?it/s]

 26%|██▌       | 120.0/465.9547119140625 [00:05&lt;00:23, 14.99it/s]
  8%|▊         | 4.0/48.25474548339844 [00:00&lt;00:06,  6.36it/s]


100%|██████████| 0.17769622802734375/0.17769622802734375 [00:00&lt;00:00,  1.28s/it]


 27%|██▋       | 124.0/465.9547119140625 [00:06&lt;00:22, 15.27it/s]
 25%|██▍       | 12.0/48.25474548339844 [00:00&lt;00:02, 16.10it/s]
 33%|███▎      | 16.0/48.25474548339844 [00:01&lt;00:01, 17.78it/s]

 27%|██▋       | 128.0/465.9547119140625 [00:06&lt;00:21, 15.46it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/channels.rawInd.e5803a05-1cc5-4a10-8afe-6853dc4b3923.npy Bytes: 3200
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>



100%|██████████| 0.0030517578125/0.0030517578125 [00:00&lt;00:00,  2.36it/s]
100%|██████████| 4.5045166015625/4.5045166015625 [00:00&lt;00:00,  7.39it/s]

 50%|████▉     | 24.0/48.25474548339844 [00:01&lt;00:01, 23.33it/s]

 28%|██▊       | 132.0/465.9547119140625 [00:06&lt;00:21, 15.56it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/channels.localCoordinates.fbe64549-286d-4b15-a04a-b5620e2bb7bb.npy Bytes: 3200
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 0.0030517578125/0.0030517578125 [00:00&lt;00:00,  1.13it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading: /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort/spikes.samples.e96941e7-8570-45bd-80b8-22a142fd29eb.npy Bytes: 50598768
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
  0%|          | 0/48.25474548339844 [00:00&lt;?, ?it/s]
 66%|██████▋   | 32.0/48.25474548339844 [00:01&lt;00:00, 26.90it/s]

 29%|██▉       | 136.0/465.9547119140625 [00:06&lt;00:21, 15.65it/s]
 83%|████████▎ | 40.0/48.25474548339844 [00:01&lt;00:00, 29.41it/s]

 30%|███       | 140.0/465.9547119140625 [00:07&lt;00:20, 15.58it/s]
100%|██████████| 48.25474548339844/48.25474548339844 [00:01&lt;00:00, 24.73it/s]
  8%|▊         | 4.0/48.25474548339844 [00:00&lt;00:07,  6.27it/s]

 17%|█▋        | 8.0/48.25474548339844 [00:00&lt;00:03, 11.15it/s]

 41%|████▏     | 20.0/48.25474548339844 [00:01&lt;00:01, 22.12it/s]

 58%|█████▊    | 28.0/48.25474548339844 [00:01&lt;00:00, 26.29it/s]

 75%|███████▍  | 36.0/48.25474548339844 [00:01&lt;00:00, 28.97it/s]

 91%|█████████ | 44.0/48.25474548339844 [00:01&lt;00:00, 32.38it/s]

100%|██████████| 48.25474548339844/48.25474548339844 [00:01&lt;00:00, 24.32it/s]


 36%|███▌      | 168.0/465.9547119140625 [00:08&lt;00:18, 15.92it/s]

 37%|███▋      | 172.0/465.9547119140625 [00:09&lt;00:18, 15.98it/s]

 38%|███▊      | 176.0/465.9547119140625 [00:09&lt;00:18, 15.93it/s]

 39%|███▊      | 180.0/465.9547119140625 [00:09&lt;00:17, 15.92it/s]

 39%|███▉      | 184.0/465.9547119140625 [00:09&lt;00:17, 15.93it/s]

 40%|████      | 188.0/465.9547119140625 [00:10&lt;00:17, 15.92it/s]

 41%|████      | 192.0/465.9547119140625 [00:10&lt;00:17, 15.86it/s]

 42%|████▏     | 196.0/465.9547119140625 [00:10&lt;00:18, 14.38it/s]

 43%|████▎     | 200.0/465.9547119140625 [00:11&lt;00:19, 13.39it/s]

 44%|████▍     | 204.0/465.9547119140625 [00:11&lt;00:19, 13.41it/s]

 45%|████▍     | 208.0/465.9547119140625 [00:11&lt;00:19, 13.47it/s]

 45%|████▌     | 212.0/465.9547119140625 [00:11&lt;00:18, 13.57it/s]

 46%|████▋     | 216.0/465.9547119140625 [00:12&lt;00:18, 13.41it/s]

 47%|████▋     | 220.0/465.9547119140625 [00:12&lt;00:17, 14.02it/s]

 48%|████▊     | 224.0/465.9547119140625 [00:12&lt;00:17, 13.68it/s]

 49%|████▉     | 228.0/465.9547119140625 [00:13&lt;00:16, 14.27it/s]

 50%|████▉     | 232.0/465.9547119140625 [00:13&lt;00:16, 14.26it/s]

 51%|█████     | 236.0/465.9547119140625 [00:13&lt;00:15, 14.48it/s]

 52%|█████▏    | 240.0/465.9547119140625 [00:13&lt;00:15, 14.89it/s]

 52%|█████▏    | 244.0/465.9547119140625 [00:14&lt;00:14, 14.86it/s]

 53%|█████▎    | 248.0/465.9547119140625 [00:14&lt;00:14, 15.00it/s]

 54%|█████▍    | 252.0/465.9547119140625 [00:14&lt;00:14, 15.27it/s]

 55%|█████▍    | 256.0/465.9547119140625 [00:14&lt;00:13, 15.46it/s]

 56%|█████▌    | 260.0/465.9547119140625 [00:15&lt;00:13, 15.61it/s]

 57%|█████▋    | 264.0/465.9547119140625 [00:15&lt;00:12, 15.67it/s]

 58%|█████▊    | 268.0/465.9547119140625 [00:15&lt;00:12, 15.72it/s]

 58%|█████▊    | 272.0/465.9547119140625 [00:15&lt;00:12, 15.81it/s]

 59%|█████▉    | 276.0/465.9547119140625 [00:16&lt;00:11, 15.85it/s]

 60%|██████    | 280.0/465.9547119140625 [00:16&lt;00:11, 15.82it/s]

 61%|██████    | 284.0/465.9547119140625 [00:16&lt;00:11, 15.88it/s]

 62%|██████▏   | 288.0/465.9547119140625 [00:16&lt;00:11, 15.87it/s]

 63%|██████▎   | 292.0/465.9547119140625 [00:17&lt;00:10, 15.83it/s]

 64%|██████▎   | 296.0/465.9547119140625 [00:17&lt;00:12, 14.11it/s]

 64%|██████▍   | 300.0/465.9547119140625 [00:17&lt;00:12, 13.23it/s]

 65%|██████▌   | 304.0/465.9547119140625 [00:18&lt;00:12, 12.87it/s]

 66%|██████▌   | 308.0/465.9547119140625 [00:18&lt;00:14, 10.66it/s]

 67%|██████▋   | 312.0/465.9547119140625 [00:18&lt;00:12, 12.73it/s]

 68%|██████▊   | 316.0/465.9547119140625 [00:19&lt;00:11, 12.73it/s]

 69%|██████▊   | 320.0/465.9547119140625 [00:19&lt;00:10, 13.33it/s]

 70%|██████▉   | 324.0/465.9547119140625 [00:19&lt;00:10, 13.18it/s]

 70%|███████   | 328.0/465.9547119140625 [00:20&lt;00:10, 13.08it/s]

 71%|███████▏  | 332.0/465.9547119140625 [00:20&lt;00:10, 13.01it/s]

 72%|███████▏  | 336.0/465.9547119140625 [00:20&lt;00:09, 13.32it/s]

 73%|███████▎  | 340.0/465.9547119140625 [00:20&lt;00:09, 13.53it/s]

 74%|███████▍  | 344.0/465.9547119140625 [00:21&lt;00:09, 13.33it/s]

 75%|███████▍  | 348.0/465.9547119140625 [00:21&lt;00:08, 13.85it/s]

 76%|███████▌  | 352.0/465.9547119140625 [00:21&lt;00:09, 12.66it/s]

 76%|███████▋  | 356.0/465.9547119140625 [00:22&lt;00:08, 12.70it/s]

 77%|███████▋  | 360.0/465.9547119140625 [00:22&lt;00:09, 11.68it/s]

 78%|███████▊  | 364.0/465.9547119140625 [00:23&lt;00:09, 11.06it/s]

 79%|███████▉  | 368.0/465.9547119140625 [00:23&lt;00:09, 10.63it/s]

 80%|███████▉  | 372.0/465.9547119140625 [00:23&lt;00:09,  9.71it/s]

 81%|████████  | 376.0/465.9547119140625 [00:24&lt;00:09,  9.11it/s]

 82%|████████▏ | 380.0/465.9547119140625 [00:24&lt;00:10,  8.57it/s]

 82%|████████▏ | 384.0/465.9547119140625 [00:25&lt;00:09,  8.22it/s]

 83%|████████▎ | 388.0/465.9547119140625 [00:26&lt;00:10,  7.51it/s]

 84%|████████▍ | 392.0/465.9547119140625 [00:26&lt;00:10,  7.35it/s]

 85%|████████▍ | 396.0/465.9547119140625 [00:27&lt;00:09,  7.12it/s]

 86%|████████▌ | 400.0/465.9547119140625 [00:27&lt;00:09,  7.09it/s]

 87%|████████▋ | 404.0/465.9547119140625 [00:28&lt;00:08,  7.10it/s]

 88%|████████▊ | 408.0/465.9547119140625 [00:29&lt;00:08,  7.15it/s]

 88%|████████▊ | 412.0/465.9547119140625 [00:29&lt;00:07,  7.11it/s]

 89%|████████▉ | 416.0/465.9547119140625 [00:30&lt;00:06,  7.26it/s]

 90%|█████████ | 420.0/465.9547119140625 [00:30&lt;00:06,  6.57it/s]

 91%|█████████ | 424.0/465.9547119140625 [00:31&lt;00:06,  6.39it/s]

 92%|█████████▏| 428.0/465.9547119140625 [00:32&lt;00:05,  6.35it/s]

 93%|█████████▎| 432.0/465.9547119140625 [00:32&lt;00:05,  6.45it/s]

 94%|█████████▎| 436.0/465.9547119140625 [00:33&lt;00:04,  6.51it/s]

 94%|█████████▍| 440.0/465.9547119140625 [00:33&lt;00:03,  6.67it/s]

 95%|█████████▌| 444.0/465.9547119140625 [00:34&lt;00:03,  6.81it/s]

 96%|█████████▌| 448.0/465.9547119140625 [00:35&lt;00:02,  6.95it/s]

 97%|█████████▋| 452.0/465.9547119140625 [00:35&lt;00:02,  6.51it/s]

 98%|█████████▊| 456.0/465.9547119140625 [00:36&lt;00:01,  5.44it/s]

 99%|█████████▊| 460.0/465.9547119140625 [00:37&lt;00:01,  5.00it/s]

100%|█████████▉| 464.0/465.9547119140625 [00:38&lt;00:00,  4.75it/s]

100%|██████████| 465.9547119140625/465.9547119140625 [00:39&lt;00:00, 11.93it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Files downloaded to /home/runner/Downloads/ONE/openalyx.internationalbrainlab.org/steinmetzlab/Subjects/NR_0027/2022-08-23/001/alf/probe00/pykilosort
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<p>To load in the data we can use some of the following loading methods</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Load in all trials datasets
trials = one.load_object(eid, &#39;trials&#39;, collection=&#39;alf&#39;)

# Load in a single wheel dataset
wheel_times = one.load_dataset(eid, &#39;_ibl_wheel.timestamps.npy&#39;)
</pre></div>
</div>
</div>
</section>
<section id="Loading-different-objects">
<h3>Loading different objects<a class="headerlink" href="#Loading-different-objects" title="Permalink to this heading"></a></h3>
<p>Examples for loading different objects can be found in the following tutorials <a class="reference external" href="https://int-brain-lab.github.io/iblenv/loading_examples.html">here</a></p>
</section>
<section id="Advanced-examples">
<h3>Advanced examples<a class="headerlink" href="#Advanced-examples" title="Permalink to this heading"></a></h3>
<section id="Example-1:-Searching-for-sessions-from-a-specific-lab">
<h4>Example 1: Searching for sessions from a specific lab<a class="headerlink" href="#Example-1:-Searching-for-sessions-from-a-specific-lab" title="Permalink to this heading"></a></h4>
<p>Let’s imagine you are interested in obtaining the data from a given lab, that was part of the Reproducible Ephys data release. If you want to use data associated to a given lab only, you could simply query for the whole dataset as shown above, and filter <code class="docutils literal notranslate"><span class="pre">sessions_rep_site</span></code> for the key “lab” of a given value, for example:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>lab_name = &#39;mrsicflogellab&#39;
sessions_lab = [item for item in sessions_rep_site if item[&#39;lab&#39;] == lab_name]
</pre></div>
</div>
</div>
<p>However, if you wanted to query only the data for a given lab, it might be most judicious to first know the list of all labs available, select an arbitrary lab name from it, and query the specific sessions from it.</p>
<p>To get this list, use <a class="reference external" href="https://openalyx.internationalbrainlab.org/docs/#labs-list">one.alyx.rest</a></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># List of labs (and all metadata information associated)
labs = one.alyx.rest(&#39;labs&#39;, &#39;list&#39;,
                     django=&#39;session__data_dataset_session_related__tags__name,2022_Q2_IBL_et_al_RepeatedSite&#39;)
# Note the change in the django filter compared to searching over &#39;sessions&#39;

# Example lab name
lab_name = labs[0][&#39;name&#39;]  # e.g. &#39;mrsicflogellab&#39;

# Searching for RS sessions with specific lab name
sessions_lab = one.alyx.rest(&#39;sessions&#39;, &#39;list&#39;, dataset_types=&#39;spikes.times&#39;, lab=lab_name,
                             tag=&#39;2022_Q2_IBL_et_al_RepeatedSite&#39;)
</pre></div>
</div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data_structure.html" class="btn btn-neutral float-left" title="Get to know the datasets and folder structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../loading_examples.html" class="btn btn-neutral float-right" title="Loading Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, International Brain Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>