

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ibllib.io.extractors.mesoscope &mdash; IBL Library  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/style.css?v=17142d56" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ibllib.io.extractors.opto_trials" href="ibllib.io.extractors.opto_trials.html" />
    <link rel="prev" title="ibllib.io.extractors.habituation_trials" href="ibllib.io.extractors.habituation_trials.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            IBL Library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Open Neurophysiology Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference external" href="https://int-brain-lab.github.io/ONE/">Full documentation Website for ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/public_introduction.html">Publicly Available IBL Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/dataset_overview.html">What is available for download ?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Datasets - Collaboration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2025_data_release_brainwidemap.html">2025 - Brain Wide Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2024_data_release_repro_ephys.html">2024 - Reproducible Ephys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2021_data_release_behavior.html">2021 - Behavior</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Datasets - Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2025_data_release_autism_noel.html">2025 - Autism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2025_data_release_autism_davatolhagh.html">2025 - Autism Widefield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2022_data_release_spikesorting_benchmarks.html">2022 - Spike sorting benchmark datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/data_release_pilot.html">Data Release - Pilot Dataset</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Exploring IBL Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Installation of IBL Unified Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_structure.html">Get to know the datasets and folder structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_download.html">Setting up credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_download.html#Explore-and-download-data-using-the-ONE-api">Explore and download data using the ONE-api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_examples.html">Loading Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../09_contribution.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/information_contact.html">Getting Help: Information and Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples &amp; Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atlas_examples.html">Atlas Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/docs_wheel_moves.html">Working with wheel data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/docs_wheel_screen_stimulus.html">Computing the stimulus position using the wheel</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../010_api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ibllib.html">ibllib</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ibllib.ephys.html">ibllib.ephys</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.exceptions.html">ibllib.exceptions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="ibllib.io.html">ibllib.io</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="ibllib.io.extractors.html">ibllib.io.extractors</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.ffmpeg.html">ibllib.io.ffmpeg</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.flags.html">ibllib.io.flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.misc.html">ibllib.io.misc</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.raw_daq_loaders.html">ibllib.io.raw_daq_loaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.raw_data_loaders.html">ibllib.io.raw_data_loaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.session_params.html">ibllib.io.session_params</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.video.html">ibllib.io.video</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.misc.html">ibllib.misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.oneibl.html">ibllib.oneibl</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.pipes.html">ibllib.pipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.plots.html">ibllib.plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.qc.html">ibllib.qc</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.tests.html">ibllib.tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.time.html">ibllib.time</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="brainbox.html">brainbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="iblatlas.html">iblatlas</a></li>
<li class="toctree-l2"><a class="reference internal" href="iblutil.html">iblutil</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../010_api_reference.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="ibllib.html">ibllib</a></li>
          <li class="breadcrumb-item"><a href="ibllib.io.html">ibllib.io</a></li>
          <li class="breadcrumb-item"><a href="ibllib.io.extractors.html">ibllib.io.extractors</a></li>
      <li class="breadcrumb-item active">ibllib.io.extractors.mesoscope</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/ibllib.io.extractors.mesoscope.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ibllib.io.extractors.mesoscope">
<span id="ibllib-io-extractors-mesoscope"></span><h1>ibllib.io.extractors.mesoscope<a class="headerlink" href="#module-ibllib.io.extractors.mesoscope" title="Link to this heading"></a></h1>
<p>Mesoscope (timeline) data extraction.</p>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.io.extractors.mesoscope.patch_imaging_meta" title="ibllib.io.extractors.mesoscope.patch_imaging_meta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">patch_imaging_meta</span></code></a></p></td>
<td><p>Patch imaging metadata for compatibility across versions.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ibllib.io.extractors.mesoscope.plot_timeline" title="ibllib.io.extractors.mesoscope.plot_timeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_timeline</span></code></a></p></td>
<td><p>Plot the timeline data.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline" title="ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MesoscopeSyncTimeline</span></code></a></p></td>
<td><p>Extraction of mesoscope imaging times.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ibllib.io.extractors.mesoscope.TimelineTrials" title="ibllib.io.extractors.mesoscope.TimelineTrials"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimelineTrials</span></code></a></p></td>
<td><p>Similar extraction to the FPGA, however counter and position channels are treated differently.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.io.extractors.mesoscope.TimelineTrialsHabituation" title="ibllib.io.extractors.mesoscope.TimelineTrialsHabituation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimelineTrialsHabituation</span></code></a></p></td>
<td><p>Habituation trials extraction from Timeline DAQ data.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.patch_imaging_meta">
<span class="sig-name descname"><span class="pre">patch_imaging_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#patch_imaging_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.patch_imaging_meta" title="Link to this definition"></a></dt>
<dd><p>Patch imaging metadata for compatibility across versions.</p>
<p>A copy of the dict is NOT returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>meta</strong> (<em>dict</em>) – A folder path that contains a rawImagingData.meta file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded metadata file, updated to the most recent version.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.plot_timeline">
<span class="sig-name descname"><span class="pre">plot_timeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#plot_timeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.plot_timeline" title="Link to this definition"></a></dt>
<dd><p>Plot the timeline data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeline</strong> (<a class="reference external" href="https://int-brain-lab.github.io/ONE/_autosummary/one.alf.io.html#one.alf.io.AlfBunch" title="(in ONE)"><em>one.alf.io.AlfBunch</em></a>) – The timeline data object.</p></li>
<li><p><strong>channels</strong> (<em>list</em><em> of </em><em>str</em>) – An iterable of channel names to plot.</p></li>
<li><p><strong>raw</strong> (<em>bool</em>) – If true, plot the raw DAQ samples; if false, apply TTL thresholds and plot changes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>matplotlib.pyplot.Figure</em> – The figure containing timeline subplots.</p></li>
<li><p><em>list of matplotlib.pyplot.Axes</em> – The axes for each timeline channel plotted.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TimelineTrials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw_sync_data'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="ibllib.io.extractors.ephys_fpga.html#ibllib.io.extractors.ephys_fpga.FpgaTrials" title="ibllib.io.extractors.ephys_fpga.FpgaTrials"><code class="xref py py-class docutils literal notranslate"><span class="pre">FpgaTrials</span></code></a></p>
<p>Similar extraction to the FPGA, however counter and position channels are treated differently.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials.sync_field">
<span class="sig-name descname"><span class="pre">sync_field</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'itiIn_times'</span></em><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials.sync_field" title="Link to this definition"></a></dt>
<dd><p>The trial event to synchronize (must be present in extracted trials).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials.timeline">
<span class="sig-name descname"><span class="pre">timeline</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials.timeline" title="Link to this definition"></a></dt>
<dd><p>The timeline data object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://int-brain-lab.github.io/ONE/_autosummary/one.alf.io.html#one.alf.io.AlfBunch" title="(in ONE)">one.alf.io.AlfBunch</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials.load_sync">
<span class="sig-name descname"><span class="pre">load_sync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sync_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw_sync_data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrials.load_sync"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials.load_sync" title="Link to this definition"></a></dt>
<dd><p>Load the DAQ sync and channel map data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sync_collection</strong> (<em>str</em>) – The session subdirectory where the sync data are located.</p></li>
<li><p><strong>chmap</strong> (<em>dict</em>) – A map of channel names and their corresponding indices. If None, the channel map is
loaded using the <a class="reference internal" href="ibllib.io.raw_daq_loaders.html#ibllib.io.raw_daq_loaders.timeline_meta2chmap" title="ibllib.io.raw_daq_loaders.timeline_meta2chmap"><code class="xref py py-func docutils literal notranslate"><span class="pre">ibllib.io.raw_daq_loaders.timeline_meta2chmap()</span></code></a> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>one.alf.io.AlfBunch</em> – A dictionary with keys (‘times’, ‘polarities’, ‘channels’), containing the sync pulses
and the corresponding channel numbers.</p></li>
<li><p><em>dict</em> – A map of channel names and their corresponding indices.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials.get_bpod_event_times">
<span class="sig-name descname"><span class="pre">get_bpod_event_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sync</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bpod_event_ttls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrials.get_bpod_event_times"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials.get_bpod_event_times" title="Link to this definition"></a></dt>
<dd><p>Extract Bpod times from sync.</p>
<p>Unlike the superclass method. This one doesn’t reassign the first trial pulse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sync</strong> (<em>dict</em>) – A dictionary with keys (‘times’, ‘polarities’, ‘channels’), containing the sync pulses
and the corresponding channel numbers. Must contain a ‘bpod’ key.</p></li>
<li><p><strong>chmap</strong> (<em>dict</em>) – A map of channel names and their corresponding indices.</p></li>
<li><p><strong>bpod_event_ttls</strong> (<em>dict</em><em> of </em><em>tuple</em>) – A map of event names to (min, max) TTL length.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>dict</em> – A dictionary with keys {‘times’, ‘polarities’} containing Bpod TTL fronts.</p></li>
<li><p><em>dict</em> – A dictionary of events (from <cite>bpod_event_ttls</cite>) and their intervals as an Nx2 array.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials.build_trials">
<span class="sig-name descname"><span class="pre">build_trials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sync</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrials.build_trials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials.build_trials" title="Link to this definition"></a></dt>
<dd><p>Extract task related event times from the sync.</p>
<p>The two major differences are that the sampling rate is lower for imaging so the short Bpod
trial start TTLs are often absent. For this reason, the sync happens using the ITI_in TTL.</p>
<p>Second, the valve used at the mesoscope has a way to record the raw voltage across the
solenoid, giving a more accurate readout of the valve’s activity. If the reward_valve
channel is present on the DAQ, this is used to extract the valve open times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sync</strong> (<em>dict</em>) – ‘polarities’ of fronts detected on sync trace for all 16 chans and their ‘times’</p></li>
<li><p><strong>chmap</strong> (<em>dict</em>) – Map of channel names and their corresponding index.  Default to constant.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A map of trial event timestamps.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials.extract_wheel_sync">
<span class="sig-name descname"><span class="pre">extract_wheel_sync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ticks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrials.extract_wheel_sync"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials.extract_wheel_sync" title="Link to this definition"></a></dt>
<dd><p>Gets the wheel position from Timeline counter channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticks</strong> (<em>int</em>) – Number of ticks corresponding to a full revolution (1024 for IBL rotary encoder).</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – Radius of the wheel. Defaults to 1 for an output in radians.</p></li>
<li><p><strong>coding</strong> (<em>str {'x1'</em><em>, </em><em>'x2'</em><em>, </em><em>'x4'}</em>) – Rotary encoder encoding (IBL default is x4).</p></li>
<li><p><strong>tmin</strong> (<em>float</em>) – The minimum time from which to extract the sync pulses.</p></li>
<li><p><strong>tmax</strong> (<em>float</em>) – The maximum time up to which we extract the sync pulses.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em> – Wheel timestamps in seconds.</p></li>
<li><p><em>np.array</em> – Wheel positions in radians.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="ibllib.io.extractors.ephys_fpga.html#ibllib.io.extractors.ephys_fpga.extract_wheel_sync" title="ibllib.io.extractors.ephys_fpga.extract_wheel_sync"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ibllib.io.extractors.ephys_fpga.extract_wheel_sync</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials.get_wheel_positions">
<span class="sig-name descname"><span class="pre">get_wheel_positions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ticks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrials.get_wheel_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials.get_wheel_positions" title="Link to this definition"></a></dt>
<dd><p>Gets the wheel position and detected movements from Timeline counter channel.</p>
<p>Called by the super class extractor (FPGATrials._extract).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ticks</strong> (<em>int</em>) – Number of ticks corresponding to a full revolution (1024 for IBL rotary encoder).</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – Radius of the wheel. Defaults to 1 for an output in radians.</p></li>
<li><p><strong>coding</strong> (<em>str {'x1'</em><em>, </em><em>'x2'</em><em>, </em><em>'x4'}</em>) – Rotary encoder encoding (IBL default is x4).</p></li>
<li><p><strong>tmin</strong> (<em>float</em>) – The minimum time from which to extract the sync pulses.</p></li>
<li><p><strong>tmax</strong> (<em>float</em>) – The maximum time up to which we extract the sync pulses.</p></li>
<li><p><strong>display</strong> (<em>bool</em>) – If true, plot the wheel positions from bpod and the DAQ.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>dict</em> – wheel object with keys (‘timestamps’, ‘position’).</p></li>
<li><p><em>dict</em> – wheelMoves object with keys (‘intervals’ ‘peakAmplitude’).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrials.get_valve_open_times">
<span class="sig-name descname"><span class="pre">get_valve_open_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">driver_ttls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrials.get_valve_open_times"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrials.get_valve_open_times" title="Link to this definition"></a></dt>
<dd><p>Get the valve open times from the raw timeline voltage trace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>display</strong> (<em>bool</em>) – Plot detected times on the raw voltage trace.</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – The threshold of voltage change to apply. The default was set by eye; units should be
Volts per sample but doesn’t appear to be.</p></li>
<li><p><strong>driver_ttls</strong> (<em>numpy.array</em>) – An optional array of driver TTLs to use for assigning with the valve times.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>numpy.array</em> – The detected valve open intervals.</p></li>
<li><p><em>numpy.array</em> – If driver_ttls is not None, returns an array of open times that occurred directly after
the driver TTLs.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrialsHabituation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TimelineTrialsHabituation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw_sync_data'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrialsHabituation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrialsHabituation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="ibllib.io.extractors.ephys_fpga.html#ibllib.io.extractors.ephys_fpga.FpgaTrialsHabituation" title="ibllib.io.extractors.ephys_fpga.FpgaTrialsHabituation"><code class="xref py py-class docutils literal notranslate"><span class="pre">FpgaTrialsHabituation</span></code></a>, <a class="reference internal" href="#ibllib.io.extractors.mesoscope.TimelineTrials" title="ibllib.io.extractors.mesoscope.TimelineTrials"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimelineTrials</span></code></a></p>
<p>Habituation trials extraction from Timeline DAQ data.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrialsHabituation.sync_field">
<span class="sig-name descname"><span class="pre">sync_field</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'intervals_0'</span></em><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrialsHabituation.sync_field" title="Link to this definition"></a></dt>
<dd><p>The trial event to synchronize (must be present in extracted trials).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.TimelineTrialsHabituation.build_trials">
<span class="sig-name descname"><span class="pre">build_trials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sync</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#TimelineTrialsHabituation.build_trials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.TimelineTrialsHabituation.build_trials" title="Link to this definition"></a></dt>
<dd><p>Extract task related event times from the sync.</p>
<p>The valve used at the mesoscope has a way to record the raw voltage across the solenoid,
giving a more accurate readout of the valve’s activity. If the reward_valve channel is
present on the DAQ, this is used to extract the valve open times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sync</strong> (<em>dict</em>) – ‘polarities’ of fronts detected on sync trace for all 16 chans and their ‘times’</p></li>
<li><p><strong>chmap</strong> (<em>dict</em>) – Map of channel names and their corresponding index.  Default to constant.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A map of trial event timestamps.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MesoscopeSyncTimeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_FOVs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#MesoscopeSyncTimeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="ibllib.io.extractors.base.html#ibllib.io.extractors.base.BaseExtractor" title="ibllib.io.extractors.base.BaseExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseExtractor</span></code></a></p>
<p>Extraction of mesoscope imaging times.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.rawImagingData">
<span class="sig-name descname"><span class="pre">rawImagingData</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.rawImagingData" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.var_names">
<span class="sig-name descname"><span class="pre">var_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('mpci_times',</span> <span class="pre">'mpciStack_timeshift')</span></em><a class="headerlink" href="#ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.var_names" title="Link to this definition"></a></dt>
<dd><p>A list of names for the extracted variables. These become the returned output keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.save_names">
<span class="sig-name descname"><span class="pre">save_names</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('mpci.times.npy',</span> <span class="pre">'mpciStack.timeshift.npy')</span></em><a class="headerlink" href="#ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.save_names" title="Link to this definition"></a></dt>
<dd><p>The raw imaging meta data and frame times</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://int-brain-lab.github.io/ONE/_autosummary/one.alf.io.html#one.alf.io.AlfBunch" title="(in ONE)">one.alf.io.AlfBunch</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.get_bout_edges">
<span class="sig-name descname"><span class="pre">get_bout_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#MesoscopeSyncTimeline.get_bout_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.get_bout_edges" title="Link to this definition"></a></dt>
<dd><p>Return an array of edge times for each imaging bout corresponding to a raw_imaging_data
collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_times</strong> (<em>numpy.array</em>) – An array of all neural frame count times.</p></li>
<li><p><strong>collections</strong> (<em>iterable</em><em> of </em><em>str</em>) – A set of raw_imaging_data collections, used to extract selected imaging periods.</p></li>
<li><p><strong>events</strong> (<em>pandas.DataFrame</em>) – A table of UDP event times, corresponding to times when recordings start and end.</p></li>
<li><p><strong>min_gap</strong> (<em>float</em>) – If start or end events not present, split bouts by finding gaps larger than this value.</p></li>
<li><p><strong>display</strong> (<em>bool</em>) – If true, plot the detected bout edges and raw frame times.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of imaging bout intervals.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.get_timeshifts">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_timeshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_imaging_meta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/mesoscope.html#MesoscopeSyncTimeline.get_timeshifts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.io.extractors.mesoscope.MesoscopeSyncTimeline.get_timeshifts" title="Link to this definition"></a></dt>
<dd><p>Calculate the time shifts for each field of view (FOV) and the relative offsets for each
scan line.</p>
<p>For a 2 area (i.e. ‘ROI’), 2 depth recording (so 4 FOVs):</p>
<p>Frame 1, lines 1-512 correspond to FOV_00
Frame 1, lines 551-1062 correspond to FOV_01
Frame 2, lines 1-512 correspond to FOV_02
Frame 2, lines 551-1062 correspond to FOV_03
Frame 3, lines 1-512 correspond to FOV_00
…</p>
<p>All areas are acquired for each depth such that…</p>
<p>FOV_00 = area 1, depth 1
FOV_01 = area 2, depth 1
FOV_02 = area 1, depth 2
FOV_03 = area 2, depth 2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>raw_imaging_meta</strong> (<em>dict</em>) – Extracted ScanImage meta data (_ibl_rawImagingData.meta.json).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>list of numpy.array</em> – A list of arrays, one per FOV, containing indices of each image scan line.</p></li>
<li><p><em>numpy.array</em> – An array of FOV time offsets (one value per FOV) relative to each frame acquisition
time.</p></li>
<li><p><em>list of numpy.array</em> – A list of arrays, one per FOV, containing the time offsets for each scan line, relative
to each FOV offset.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ibllib.io.extractors.habituation_trials.html" class="btn btn-neutral float-left" title="ibllib.io.extractors.habituation_trials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ibllib.io.extractors.opto_trials.html" class="btn btn-neutral float-right" title="ibllib.io.extractors.opto_trials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, International Brain Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>