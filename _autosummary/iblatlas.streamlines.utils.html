

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>iblatlas.streamlines.utils &mdash; IBL Library  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/style.css?v=17142d56" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="iblutil" href="iblutil.html" />
    <link rel="prev" title="iblatlas.streamlines" href="iblatlas.streamlines.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            IBL Library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Open Neurophysiology Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference external" href="https://int-brain-lab.github.io/ONE/">Full documentation Website for ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/public_introduction.html">Publicly Available IBL Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/dataset_overview.html">What is available for download ?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Datasets - Collaboration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2025_data_release_brainwidemap.html">2025 - Brain Wide Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2024_data_release_repro_ephys.html">2024 - Reproducible Ephys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2021_data_release_behavior.html">2021 - Behavior</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Datasets - Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2025_data_release_autism_noel.html">2025 - Autism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2025_data_release_autism_davatolhagh.html">2025 - Autism Widefield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/2022_data_release_spikesorting_benchmarks.html">2022 - Spike sorting benchmark datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/data_release_pilot.html">Data Release - Pilot Dataset</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Exploring IBL Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Installation of IBL Unified Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_structure.html">Get to know the datasets and folder structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_download.html">Setting up credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_download.html#Explore-and-download-data-using-the-ONE-api">Explore and download data using the ONE-api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_examples.html">Loading Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../09_contribution.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/information_contact.html">Getting Help: Information and Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples &amp; Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atlas_examples.html">Atlas Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/docs_wheel_moves.html">Working with wheel data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/docs_wheel_screen_stimulus.html">Computing the stimulus position using the wheel</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../010_api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ibllib.html">ibllib</a></li>
<li class="toctree-l2"><a class="reference internal" href="brainbox.html">brainbox</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="iblatlas.html">iblatlas</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="iblatlas.atlas.html">iblatlas.atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.flatmaps.html">iblatlas.flatmaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.genomics.html">iblatlas.genomics</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.gui.html">iblatlas.gui</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.plots.html">iblatlas.plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.regions.html">iblatlas.regions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="iblatlas.streamlines.html">iblatlas.streamlines</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">iblatlas.streamlines.utils</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="iblutil.html">iblutil</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../010_api_reference.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="iblatlas.html">iblatlas</a></li>
          <li class="breadcrumb-item"><a href="iblatlas.streamlines.html">iblatlas.streamlines</a></li>
      <li class="breadcrumb-item active">iblatlas.streamlines.utils</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/iblatlas.streamlines.utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-iblatlas.streamlines.utils">
<span id="iblatlas-streamlines-utils"></span><h1>iblatlas.streamlines.utils<a class="headerlink" href="#module-iblatlas.streamlines.utils" title="Link to this heading"></a></h1>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#iblatlas.streamlines.utils.get_mask" title="iblatlas.streamlines.utils.get_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_mask</span></code></a></p></td>
<td><p>Generate a mask to plot results onto</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#iblatlas.streamlines.utils.project_points_onto_flatmap" title="iblatlas.streamlines.utils.project_points_onto_flatmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_points_onto_flatmap</span></code></a></p></td>
<td><p>Projects 3D points with associated values onto a 2D flatmap.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#iblatlas.streamlines.utils.project_volume_onto_flatmap" title="iblatlas.streamlines.utils.project_volume_onto_flatmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_volume_onto_flatmap</span></code></a></p></td>
<td><p>Projects a 3D volume onto a 2D flatmap by aggregating values along streamline paths.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#iblatlas.streamlines.utils.validate_aggr" title="iblatlas.streamlines.utils.validate_aggr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_aggr</span></code></a></p></td>
<td><p>Validates if the provided aggregation type is valid.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#iblatlas.streamlines.utils.xyz_to_depth" title="iblatlas.streamlines.utils.xyz_to_depth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xyz_to_depth</span></code></a></p></td>
<td><p>For a given xyz coordinates return the depth from the surface of the cortex.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="iblatlas.streamlines.utils.xyz_to_depth">
<span class="sig-name descname"><span class="pre">xyz_to_depth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_um</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/iblatlas/streamlines/utils.html#xyz_to_depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#iblatlas.streamlines.utils.xyz_to_depth" title="Link to this definition"></a></dt>
<dd><p>For a given xyz coordinates return the depth from the surface of the cortex. The depth is returned
as a percentage if per=True and in um if per=False. Note the lookup will only work for xyz cooordinates
that are in the Isocortex of the Allen volume. If coordinates outside of this region are given then
the depth is returned as nan.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xyz</strong> (<em>numpy.array</em>) – An (n, 3) array of Cartesian coordinates. The order is ML, AP, DV and coordinates should be given in meters
relative to bregma.</p></li>
<li><p><strong>per</strong> (<em>bool</em>) – Whether to do the lookup in percentage from the surface of the cortex or depth in um from the surface of the cortex.</p></li>
<li><p><strong>res_um</strong> (<em>float</em><em> or </em><em>int</em>) – The resolution of the brain atlas to do the depth lookup</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>numpy.array</em></p></li>
<li><p><em>The depths from the surface of the cortex for each cartesian coordinate. If the coordinate does not lie within</em></p></li>
<li><p><em>the Isocortex, depth value returned is nan</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="iblatlas.streamlines.utils.get_mask">
<span class="sig-name descname"><span class="pre">get_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'annotation'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">br</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/iblatlas/streamlines/utils.html#get_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#iblatlas.streamlines.utils.get_mask" title="Link to this definition"></a></dt>
<dd><p>Generate a mask to plot results onto</p>
<section id="parameters">
<h2>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>volume<span class="classifier">str, optional</span></dt><dd><p>The type of volume to project. Options are:
- ‘image’: Projects the anatomical image using max intensity.
- ‘annotation’: Projects the labeled regions and maps them to RGB colors.
- ‘boundary’: Projects labeled regions and extracts anatomical boundaries.
Default is ‘annotation’.</p>
</dd>
<dt>br<span class="classifier">BrainRegions, optional</span></dt><dd><p>An instance of the BrainRegions If None, a default BrainRegions is initialized.</p>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns:<a class="headerlink" href="#returns" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>img<span class="classifier">np.ndarray</span></dt><dd><p>The resulting 2D flatmap projection image, either grayscale, RGB, or binary mask,
depending on the selected volume type.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="iblatlas.streamlines.utils.validate_aggr">
<span class="sig-name descname"><span class="pre">validate_aggr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/iblatlas/streamlines/utils.html#validate_aggr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#iblatlas.streamlines.utils.validate_aggr" title="Link to this definition"></a></dt>
<dd><p>Validates if the provided aggregation type is valid.</p>
<section id="id1">
<h2>Parameters:<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>aggr<span class="classifier">str</span></dt><dd><p>The aggregation method to validate (e.g., ‘mean’, ‘sum’).</p>
</dd>
</dl>
</section>
<section id="raises">
<h2>Raises:<a class="headerlink" href="#raises" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>AssertionError</dt><dd><p>If the aggregation type is not one of the allowed values.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="iblatlas.streamlines.utils.project_volume_onto_flatmap">
<span class="sig-name descname"><span class="pre">project_volume_onto_flatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_um</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'viridis'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clevels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/iblatlas/streamlines/utils.html#project_volume_onto_flatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#iblatlas.streamlines.utils.project_volume_onto_flatmap" title="Link to this definition"></a></dt>
<dd><p>Projects a 3D volume onto a 2D flatmap by aggregating values along streamline paths.</p>
<section id="id2">
<h2>Parameters:<a class="headerlink" href="#id2" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>vol<span class="classifier">np.ndarray</span></dt><dd><p>A 3D numpy array representing the volume data to be projected.</p>
</dd>
<dt>res_um<span class="classifier">int</span></dt><dd><p>The resolution of the volume. Must be one of 10, 25 or 50.</p>
</dd>
<dt>aggr<span class="classifier">str, optional</span></dt><dd><p>The aggregation method (‘sum’, ‘count’, ‘mean’, etc.), default is ‘mean’.</p>
</dd>
<dt>plot<span class="classifier">bool, optional</span></dt><dd><p>Whether to plot the resulting projection, default is True.</p>
</dd>
<dt>cmap<span class="classifier">str, optional</span></dt><dd><p>The colormap to use for the plot, default is ‘viridis’.</p>
</dd>
<dt>clevels<span class="classifier">tuple, optional</span></dt><dd><p>The color limits to use for the plot, default is None.</p>
</dd>
<dt>ax<span class="classifier">matplotlib.axes.Axes, optional</span></dt><dd><p>The axes on which to plot, default is None.</p>
</dd>
</dl>
</section>
<section id="id3">
<h2>Returns:<a class="headerlink" href="#id3" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>np.ndarray</dt><dd><p>The projected 2D array onto the flatmap.</p>
</dd>
<dt>matplotlib.figure.Figure</dt><dd><p>Matplotlib figure object if plot=True, otherwise None.</p>
</dd>
<dt>matplotlib.axes.Axes</dt><dd><p>Matplotlib axes object if plot=True, otherwise None.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="iblatlas.streamlines.utils.project_points_onto_flatmap">
<span class="sig-name descname"><span class="pre">project_points_onto_flatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_um</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'viridis'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clevels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/iblatlas/streamlines/utils.html#project_points_onto_flatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#iblatlas.streamlines.utils.project_points_onto_flatmap" title="Link to this definition"></a></dt>
<dd><p>Projects 3D points with associated values onto a 2D flatmap.</p>
<section id="id4">
<h2>Parameters:<a class="headerlink" href="#id4" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>xyz<span class="classifier">np.ndarray</span></dt><dd><p>An array containing xyz coordinates of the points to be projected. xyz values should be given in metres</p>
</dd>
<dt>values<span class="classifier">np.ndarray</span></dt><dd><p>A 1D array of values to associate with the points.</p>
</dd>
<dt>res<span class="classifier">int</span></dt><dd><p>The resolution to load the corresponding streamline paths.</p>
</dd>
<dt>aggr<span class="classifier">str, optional</span></dt><dd><p>The aggregation method (‘sum’, ‘count’, ‘mean’, etc.), default is ‘mean’.</p>
</dd>
<dt>plot<span class="classifier">bool, optional</span></dt><dd><p>Whether to plot the resulting projection, default is True.</p>
</dd>
<dt>cmap<span class="classifier">str, optional</span></dt><dd><p>The colormap to use for the plot, default is ‘viridis’.</p>
</dd>
<dt>clevels<span class="classifier">tuple, optional</span></dt><dd><p>The color limits to use for the plot, default is None.</p>
</dd>
<dt>ax<span class="classifier">matplotlib.axes.Axes, optional</span></dt><dd><p>The axes on which to plot, default is None.</p>
</dd>
</dl>
</section>
<section id="id5">
<h2>Returns:<a class="headerlink" href="#id5" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>np.ndarray</dt><dd><p>The projected 2D array onto the flatmap.</p>
</dd>
<dt>matplotlib.figure.Figure</dt><dd><p>Matplotlib figure object if plot=True, otherwise None.</p>
</dd>
<dt>matplotlib.axes.Axes</dt><dd><p>Matplotlib axes object if plot=True, otherwise None.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="iblatlas.streamlines.html" class="btn btn-neutral float-left" title="iblatlas.streamlines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="iblutil.html" class="btn btn-neutral float-right" title="iblutil" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, International Brain Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>