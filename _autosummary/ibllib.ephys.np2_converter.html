<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ibllib.ephys.np2_converter &mdash; IBL Library  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ibllib.ephys.spikes" href="ibllib.ephys.spikes.html" />
    <link rel="prev" title="ibllib.ephys.neuropixel" href="ibllib.ephys.neuropixel.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> IBL Library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Open Neurophysiology Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference external" href="https://int-brain-lab.github.io/ONE/">Full documentation Website for ONE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DataJoint</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dj_docs/dj_introduction.html">Introduction to DataJoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dj_docs/dj_public.html">Publicly available IBL data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dj_docs/dj_credentials.html">DataJoint credentials for internal IBL users</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Public</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/public_introduction.html">Publicly available IBL data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Unified Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_contribution.html">How to contribute</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples &amp; Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../06_examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/dj_intro/dj_intro.html">Datajoint Introductory Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/dj_basics/dj_basics.html">Exploring the IBL Data Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/docs_wheel_moves.html">Working with wheel data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../010_api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ibllib.html">ibllib</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ibllib.atlas.html">ibllib.atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.dsp.html">ibllib.dsp</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="ibllib.ephys.html">ibllib.ephys</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ibllib.ephys.ephysqc.html">ibllib.ephys.ephysqc</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.ephys.neuropixel.html">ibllib.ephys.neuropixel</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">ibllib.ephys.np2_converter</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.ephys.spikes.html">ibllib.ephys.spikes</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.ephys.sync_probes.html">ibllib.ephys.sync_probes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.exceptions.html">ibllib.exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.graphic.html">ibllib.graphic</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.io.html">ibllib.io</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.misc.html">ibllib.misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.oneibl.html">ibllib.oneibl</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.pipes.html">ibllib.pipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.plots.html">ibllib.plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.qc.html">ibllib.qc</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.tests.html">ibllib.tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.time.html">ibllib.time</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="brainbox.html">brainbox</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Detailed Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../010_api_reference.html">API Reference</a> &raquo;</li>
          <li><a href="ibllib.html">ibllib</a> &raquo;</li>
          <li><a href="ibllib.ephys.html">ibllib.ephys</a> &raquo;</li>
      <li>ibllib.ephys.np2_converter</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/ibllib.ephys.np2_converter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="module-ibllib.ephys.np2_converter">
<span id="ibllib-ephys-np2-converter"></span><h1>ibllib.ephys.np2_converter<a class="headerlink" href="#module-ibllib.ephys.np2_converter" title="Permalink to this headline"></a></h1>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.ephys.np2_converter.NP2Converter" title="ibllib.ephys.np2_converter.NP2Converter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NP2Converter</span></code></a></p></td>
<td><p>Class used to 1.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">NP2Converter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ap_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_original</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class used to 1. Extract LFP data from NP2 data and 2. If NP2.4 split the data into
individual shanks</p>
<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.init_params">
<span class="sig-name descname"><span class="pre">init_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nwindow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nshank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.init_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.init_params" title="Permalink to this definition"></a></dt>
<dd><p>Initiliases parameters for processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nsamples</strong> – the number of samples to process</p></li>
<li><p><strong>nwindow</strong> – the number of samples in each window when iterating through nsamples</p></li>
<li><p><strong>extra</strong> – extra string to add the individual shank folder names</p></li>
<li><p><strong>nshank</strong> – number of shanks to process, must be a list [0], you would only want to</p></li>
</ul>
</dd>
</dl>
<p>override this for testing purposes
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.check_metadata">
<span class="sig-name descname"><span class="pre">check_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.check_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.check_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Checks the keys in meta data to see if we are trying to process an ap file that has already
been split into shanks. If we are sets flag and prevents further processing occurring
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.process" title="Permalink to this definition"></a></dt>
<dd><p>Function to call to process NP2 data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>overwrite</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.check_NP24">
<span class="sig-name descname"><span class="pre">check_NP24</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.check_NP24"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.check_NP24" title="Permalink to this definition"></a></dt>
<dd><p>Check that the splitting into shanks process has completed correctly. Compares the original
file to the reconstructed file from the individual shanks</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.compress_NP24">
<span class="sig-name descname"><span class="pre">compress_NP24</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.compress_NP24"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.compress_NP24" title="Permalink to this definition"></a></dt>
<dd><p>Compress spikeglx files
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.compress_NP21">
<span class="sig-name descname"><span class="pre">compress_NP21</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.compress_NP21"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.compress_NP21" title="Permalink to this definition"></a></dt>
<dd><p>Compress spikeglx files
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.delete_NP24">
<span class="sig-name descname"><span class="pre">delete_NP24</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.delete_NP24"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.delete_NP24" title="Permalink to this definition"></a></dt>
<dd><p>Delete the original ap file that doesn’t has all shanks in one file</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.extract_lfp">
<span class="sig-name descname"><span class="pre">extract_lfp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.extract_lfp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.extract_lfp" title="Permalink to this definition"></a></dt>
<dd><p>Extracts LFP signal from full band signal, first applies low pass to anti-alias and LP,
then downsamples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>chunk</strong> – portion of signal to extract LFP from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>LFP signal</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.ephys.np2_converter.NP2Converter.extract_lfp_sync">
<span class="sig-name descname"><span class="pre">extract_lfp_sync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_sync</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/ephys/np2_converter.html#NP2Converter.extract_lfp_sync"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.ephys.np2_converter.NP2Converter.extract_lfp_sync" title="Permalink to this definition"></a></dt>
<dd><p>Extracts downsampled signal of imec sync trace</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>chunk_sync</strong> – portion of sync signal to downsample</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>downsampled sync signal</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ibllib.ephys.neuropixel.html" class="btn btn-neutral float-left" title="ibllib.ephys.neuropixel" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ibllib.ephys.spikes.html" class="btn btn-neutral float-right" title="ibllib.ephys.spikes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, International Brain Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>