<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ibllib.atlas.flatmaps &mdash; IBL Library  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ibllib.atlas.genes" href="ibllib.atlas.genes.html" />
    <link rel="prev" title="ibllib.atlas.atlas.S3_BUCKET_IBL" href="ibllib.atlas.atlas.S3_BUCKET_IBL.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            IBL Library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Open Neurophysiology Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference external" href="https://int-brain-lab.github.io/ONE/">Full documentation Website for ONE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Public</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/public_introduction.html">Publicly available IBL data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_release_behavior.html">Data Release - Behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/data_release_pilot.html">Data Release - Pilot Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_release_repro_ephys.html">Data Release - Reproducible Ephys Paper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_release_brainwidemap.html">Data Release - Brain Wide Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_release_spikesorting_benchmarks.html">Data Release - Spike sorting benchmark datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/information_contact.html">Information and troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Exploring IBL Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_structure.html">Get to know the datasets and folder structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_download.html">Download the public datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_examples.html">Loading Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Unified Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_contribution.html">How to contribute</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples &amp; Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atlas_examples.html">Atlas Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/docs_wheel_moves.html">Working with wheel data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../010_api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ibllib.html">ibllib</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="ibllib.atlas.html">ibllib.atlas</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.html#terminology">Terminology</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.html#atlases">Atlases</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.html#scalings">Scalings</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.html#mappings">Mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.html#fixtures">Fixtures</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.atlas.html">ibllib.atlas.atlas</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">ibllib.atlas.flatmaps</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.genes.html">ibllib.atlas.genes</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.plots.html">ibllib.atlas.plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.atlas.regions.html">ibllib.atlas.regions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.ephys.html">ibllib.ephys</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.exceptions.html">ibllib.exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.io.html">ibllib.io</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.misc.html">ibllib.misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.oneibl.html">ibllib.oneibl</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.pipes.html">ibllib.pipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.plots.html">ibllib.plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.qc.html">ibllib.qc</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.tests.html">ibllib.tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.time.html">ibllib.time</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="brainbox.html">brainbox</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../010_api_reference.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="ibllib.html">ibllib</a></li>
          <li class="breadcrumb-item"><a href="ibllib.atlas.html">ibllib.atlas</a></li>
      <li class="breadcrumb-item active">ibllib.atlas.flatmaps</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/ibllib.atlas.flatmaps.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ibllib.atlas.flatmaps">
<span id="ibllib-atlas-flatmaps"></span><h1>ibllib.atlas.flatmaps<a class="headerlink" href="#module-ibllib.atlas.flatmaps" title="Link to this heading"></a></h1>
<p>Techniques to project the brain volume onto 2D images for visualisation purposes.</p>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.atlas.flatmaps.circles" title="ibllib.atlas.flatmaps.circles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">circles</span></code></a></p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param N<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of circles</p>
</dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ibllib.atlas.flatmaps.swanson" title="ibllib.atlas.flatmaps.swanson"><code class="xref py py-obj docutils literal notranslate"><span class="pre">swanson</span></code></a></p></td>
<td><p>FIXME Document! Which publication to reference? Are these specifically for flat maps?</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.atlas.flatmaps.swanson_json" title="ibllib.atlas.flatmaps.swanson_json"><code class="xref py py-obj docutils literal notranslate"><span class="pre">swanson_json</span></code></a></p></td>
<td><p>Vectorized version of the swanson bitmap file.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.atlas.flatmaps.FlatMap" title="ibllib.atlas.flatmaps.FlatMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FlatMap</span></code></a></p></td>
<td><p>The Allen Atlas flatmap.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="ibllib.atlas.flatmaps.FlatMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FlatMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flatmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dorsal_cortex'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_um</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/atlas/flatmaps.html#FlatMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.atlas.flatmaps.FlatMap" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="ibllib.atlas.atlas.html#ibllib.atlas.atlas.AllenAtlas" title="ibllib.atlas.atlas.AllenAtlas"><code class="xref py py-class docutils literal notranslate"><span class="pre">AllenAtlas</span></code></a></p>
<p>The Allen Atlas flatmap.</p>
<dl class="simple">
<dt>FIXME Document! How are these flatmaps determined? Are they related to the Swansan atlas or is</dt><dd><p>that something else?</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ibllib.atlas.flatmaps.FlatMap.plot_flatmap">
<span class="sig-name descname"><span class="pre">plot_flatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'annotation'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Allen'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/atlas/flatmaps.html#FlatMap.plot_flatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.atlas.flatmaps.FlatMap.plot_flatmap" title="Link to this definition"></a></dt>
<dd><p>Displays the 2D image corresponding to the flatmap.</p>
<p>If there are several depths, by default it will display the first one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<em>int</em>) – Index of the depth to display in the flatmap volume (the last dimension).</p></li>
<li><p><strong>volume</strong> (<em>{'image'</em><em>, </em><em>'annotation'</em><em>, </em><em>'boundary'</em><em>, </em><em>'value'}</em>) – <ul>
<li><p>‘image’ - Allen image volume.</p></li>
<li><p>’annotation’ - Allen annotation volume.</p></li>
<li><p>’boundary’ - outline of boundaries between all regions.</p></li>
<li><dl class="simple">
<dt>’volume’ - custom volume, must pass in volume of shape BrainAtlas.image.shape as</dt><dd><p>regions_value argument.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>mapping</strong> (<em>str</em><em>, </em><em>default='Allen'</em>) – The brain region mapping to use.</p></li>
<li><p><strong>region_values</strong> (<em>numpy.array</em>) – An array the shape of the brain atlas image containing custom region values. Used when
<cite>volume</cite> value is ‘volume’.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.Axes</em><em>, </em><em>optional</em>) – A set of axes to plot to.</p></li>
<li><p><strong>**kwargs</strong> – See matplotlib.pyplot.imshow.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The plotted image axes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib.pyplot.Axes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibllib.atlas.flatmaps.FlatMap.extent_flmap">
<span class="sig-name descname"><span class="pre">extent_flmap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/atlas/flatmaps.html#FlatMap.extent_flmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.atlas.flatmaps.FlatMap.extent_flmap" title="Link to this definition"></a></dt>
<dd><p>Returns the boundary coordinates of the flat map.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The bounding coordinates of the flat map image, specified as (left, right, bottom, top).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ibllib.atlas.flatmaps.circles">
<span class="sig-name descname"><span class="pre">circles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atlas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/atlas/flatmaps.html#circles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.atlas.flatmaps.circles" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> – number of circles</p></li>
<li><p><strong>atlas</strong> – brain atlas at 25 m</p></li>
<li><p><strong>display</strong> – “flat” or “pyramid”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>2D map of indices, ap_coordinate, ml_coordinate</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ibllib.atlas.flatmaps.swanson">
<span class="sig-name descname"><span class="pre">swanson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'swanson2allen.npz'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/atlas/flatmaps.html#swanson"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.atlas.flatmaps.swanson" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>FIXME Document! Which publication to reference? Are these specifically for flat maps?</dt><dd><p>Shouldn’t this be made into an Atlas class with a mapping or scaling applied?</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ibllib.atlas.flatmaps.swanson_json">
<span class="sig-name descname"><span class="pre">swanson_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'swansonpaths.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/atlas/flatmaps.html#swanson_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibllib.atlas.flatmaps.swanson_json" title="Link to this definition"></a></dt>
<dd><p>Vectorized version of the swanson bitmap file. The vectorized version was generated from swanson() using matlab
contour to find the paths for each region. The paths for each region were then simplified using the
Ramer Douglas Peucker algorithm <a class="reference external" href="https://rdp.readthedocs.io/en/latest/">https://rdp.readthedocs.io/en/latest/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – </p></li>
<li><p><strong>remap</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ibllib.atlas.atlas.S3_BUCKET_IBL.html" class="btn btn-neutral float-left" title="ibllib.atlas.atlas.S3_BUCKET_IBL" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ibllib.atlas.genes.html" class="btn btn-neutral float-right" title="ibllib.atlas.genes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, International Brain Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>