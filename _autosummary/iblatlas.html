<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>iblatlas &mdash; IBL Library  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/style.css?v=17142d56" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="iblatlas.atlas" href="iblatlas.atlas.html" />
    <link rel="prev" title="brainbox.video" href="brainbox.video.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            IBL Library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Open Neurophysiology Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/one_quickstart.html">ONE Quick Start</a></li>
<li class="toctree-l1"><a class="reference external" href="https://int-brain-lab.github.io/ONE/">Full documentation Website for ONE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Public</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/public_introduction.html">Publicly available IBL data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_release_behavior.html">Data Release - Behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/data_release_pilot.html">Data Release - Pilot Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_release_repro_ephys.html">Data Release - Reproducible Ephys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_release_brainwidemap.html">Data Release - Brain Wide Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_release_spikesorting_benchmarks.html">Data Release - Spike sorting benchmark datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../public_docs/information_contact.html">Information and troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Exploring IBL Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_structure.html">Get to know the datasets and folder structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_download.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/data_download.html#Explore-and-download-data-using-the-ONE-api">Explore and download data using the ONE-api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_examples.html">Loading Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Unified Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_contribution.html">How to contribute</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples &amp; Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atlas_examples.html">Atlas Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/docs_wheel_moves.html">Working with wheel data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks_external/docs_wheel_screen_stimulus.html">Computing the stimulus position using the wheel</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../010_api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ibllib.html">ibllib</a></li>
<li class="toctree-l2"><a class="reference internal" href="brainbox.html">brainbox</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">iblatlas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#terminology">Terminology</a></li>
<li class="toctree-l3"><a class="reference internal" href="#atlases">Atlases</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scalings">Scalings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#brain-regions-mappings">Brain Regions Mappings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixtures">Fixtures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#local-files">Local files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remote-files">Remote files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.atlas.html">iblatlas.atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.flatmaps.html">iblatlas.flatmaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.genomics.html">iblatlas.genomics</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.plots.html">iblatlas.plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="iblatlas.regions.html">iblatlas.regions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="iblutil.html">iblutil</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../010_api_reference.html">API Reference</a></li>
      <li class="breadcrumb-item active">iblatlas</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/iblatlas.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-iblatlas">
<span id="iblatlas"></span><h1>iblatlas<a class="headerlink" href="#module-iblatlas" title="Link to this heading"></a></h1>
<p>A package for working with brain atlases.</p>
<p>For examples and tutorials on using the IBL atlas package, see
<a class="reference external" href="https://docs.internationalbrainlab.org/atlas_examples.html">https://docs.internationalbrainlab.org/atlas_examples.html</a></p>
<section id="terminology">
<h2>Terminology<a class="headerlink" href="#terminology" title="Link to this heading"></a></h2>
<p>There are many terms used somewhat incoherently within this API and the community at large. Below
are some definitions of the most common terms.</p>
<ul class="simple">
<li><p><strong>Atlas</strong> - A set of serial sections along different anatomical planes of a brain where each relevant brain structure is
assigned a number of coordinates to define its outline or volume. An atlas essentially comprises a set of images, annotations,
and a coordinate system.</p></li>
<li><p><strong>Annotation</strong> - A set of identifiers assigned to different atlas regions.</p></li>
<li><p><strong>Mapping</strong> - A function that maps one ordered list of brain region IDs to another, allowing one to control annotation
granularity and brain region hierarchy, or to translate brain region names from one atlas to another. The default mapping is
identity.</p></li>
<li><p><strong>Coordinate framework</strong> - The way in which an atlas translates image coordinates (e.g. Cartesian or sperical coordinates) to
real-world anatomical coordinates in (typically physical distance from a given landmark such as bregma, along three axes,
ML-AP-DV).</p></li>
<li><p><strong>Reference space</strong> - The coordinate system and annotations used by a given atlas. It is sometimes useful to compare anatomy
between atlases, which requires expressing one atlas in another’s reference space.</p></li>
<li><p><strong>Structure tree</strong> - The hirarchy of brain regions, handled by the BrainRegions class.</p></li>
<li><p><strong>Scaling</strong> - Atlases typically comprise images averaged over a number of brains. Scaling allows one to account for any
consistent and measurable imgaging or tissue distortion, or to better align to an individual brain of a specific size. The
default scaling is identity.</p></li>
<li><p><strong>Flat map</strong> - An annotated projection of the 3D brain to 2D.</p></li>
<li><p><strong>Slice</strong> - A 2D section of a brain atlas volume. Typically these are coronal (cut along the medio-lateral axis), sagittal
(along the dorso-ventral axis) or transverse a.k.a. axial, horizontal (along the rostro-caudal a.k.a. anterio-posterior axis).</p></li>
</ul>
</section>
<section id="atlases">
<h2>Atlases<a class="headerlink" href="#atlases" title="Link to this heading"></a></h2>
<p>There are two principal mouse brain atlases in this module:</p>
<ol class="arabic simple">
<li><p>The Allen Common Coordinate Framework (CCF) <a class="footnote-reference brackets" href="#id19" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p></li>
<li><p>The Mouse Brain in Stereotaxic Coordinates (MBSC) 4th Edition, by Paxinos G, and Franklin KBJ <a class="footnote-reference brackets" href="#id20" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, matched to
to the Allen Common Coordiante Framework by Chon et al. <a class="footnote-reference brackets" href="#id21" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>.</p></li>
</ol>
<p>The latter is referred to here as the ‘Franklin-Paxinos atlas’.  These atlases comprise a 3D array of voxels and their associated
brain region identifiers (labels) at a given resolution. The Allen Atlas can be instantiated in 10um, 25um or 50um resolution.
The Franklin-Paxinos atlas has a resolution of 10um in the ML and DV axis, and 100um in the AP axis. <strong>TODO Mention flat maps.</strong></p>
</section>
<section id="scalings">
<h2>Scalings<a class="headerlink" href="#scalings" title="Link to this heading"></a></h2>
<p>Additionally there are two further atlases that apply some form of scaling to the Allen CCF atlas
to account for distortion that occurs during the imaging and tissue fixation process:</p>
<ol class="arabic simple">
<li><p>The Needles atlas - 40 C57BL/6J (p84) mice underwnt MRI imaging post-mortem while the brain was still in the skull, followed by
conventional Nissl histology <a class="footnote-reference brackets" href="#id22" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>. These mouse brain atlas images combined with segmentation (known as DSURQE) were manually
transformed onto the Allen CCF atlas to determine the scaling.</p></li>
<li><p>The MRI Toronto - 12 p65 mice MRI images were taken <em>in vivo</em> then averaged and transformed on the Allen CCF atlas to determine
the scaling <a class="footnote-reference brackets" href="#id23" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>.</p></li>
</ol>
<p>All scaling is currently linear. Scaling of this kind can be applied arbitrarily to better represent a specific mouse age and
sex <a class="footnote-reference brackets" href="#id23" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>. NB: In addition to distortions, the Allen CFF atlas is pitched down by about 5 degrees relative to a flat skull (where
bregma and lambda are at the same DV height) <a class="footnote-reference brackets" href="#id24" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a>, however this is not currently accounted for.</p>
</section>
<section id="brain-regions-mappings">
<h2>Brain Regions Mappings<a class="headerlink" href="#brain-regions-mappings" title="Link to this heading"></a></h2>
<p>The Allen CCF ontology regroups brain regions in a hierarchical manner, with up to 9 levels of parcellation. The
labels volumes provided by the Allen Institute are at the finest level of parcellation, ie. leaf nodes.
However it is often useful to regroup regions at higher levels of the hierarchy for aggregation purposes. The mappings
represent the correspondence between the leaf nodes and their grouping for given analysis purposes. This is useful for:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>control the granularity particular brain regions;</p></li>
<li><p>support differing anatomical sub-devisions or nomenclature.</p></li>
</ol>
</div></blockquote>
<p>The two Allen atlas mappings below were created by Nick Steinmetz to aid in neural analysis:</p>
<ol class="arabic simple">
<li><p>Beryl - brain atlas annotations without layer sub-divisions or certain ganglial/nucleus sub-devisisions (e.g. the core/shell
sub-division of the lateral geniculate nucleus). Fibre tracts, pia, etc. are also absent.  The choice of which areas to combine
was guided partially by the computed volume of each area.  This mapping is used in the brainwide map and prior papers <a class="footnote-reference brackets" href="#id25" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>, <a class="footnote-reference brackets" href="#id26" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a>
.</p></li>
<li><p>Cosmos - coarse brain atlas annotations, dividing the atlas into 10 broad areas: isocortex, olfactory areas, cortical subplate,
cerebral nuclei, thalamus, hypothalamus, midbrain, hindbrain, cerebellum and hippocampal formation.</p></li>
</ol>
<p>The names of these two mappings appear to be without meaning.</p>
<p>Non-Allen mappings:</p>
<ol class="arabic simple" start="3">
<li><p>Swanson - the brain atlas annotations from the Swansan rat brain flat map <a class="footnote-reference brackets" href="#id27" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a>, mapped to the Allen atlas manually by Olivier
Winter. See <a class="reference internal" href="#fixtures">Fixtures</a> for details.</p></li>
</ol>
<p>Each mapping includes both a lateralized (suffix ‘-lr’) and non-laterized version. The lateralized mappings assign a different ID
to structures in the right side of the brain. The Allen atlas IDs are kept intact but lateralized as follows: labels are
duplicated and IDs multiplied by -1, with the understanding that left hemisphere regions have negative IDs. There is currently no
mapping between Franklin &amp; Paxinos and the Allen atlases.</p>
<p class="rubric">Notes</p>
<p>The Allen atlas and the CCF annotations have different release dates and versions <a class="footnote-reference brackets" href="#id28" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>10<span class="fn-bracket">]</span></a>. The annotations used by IBL are the 2017
version (CCFv2).</p>
<p>The IBL uses the following conventions:</p>
<ul class="simple">
<li><p>All atlas images have dimensions (AP, ML, DV). With C-ordering this makes coronal slicing most efficient. The origin is the top
left corner of the image.</p></li>
<li><p>Coordinates are provided in the order (ML AP DV) and are in meters relative to bregma.</p></li>
<li><p>Left hemisphere ML coordinates are -ve; right, +ve.</p></li>
<li><p>AP coordinates anterior to bregma are +ve; posterior, -ve.</p></li>
<li><p>DV coordinates ventral to bregma are -ve; ventral +ve.</p></li>
<li><p>Bregma was determined by asking five experimentalists to pick the voxel containing bregma on the Allen atlas and taking the
average.  NB: The midline appears slightly off-center in the Allen atlas image volume.</p></li>
<li><p>All left hemisphere regions have negative region IDs in all lateralized mappings.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Below are some brief API examples. For in depth tutorials on using the IBL atlas package, see
<a class="reference external" href="https://docs.internationalbrainlab.org/atlas_examples.html">https://docs.internationalbrainlab.org/atlas_examples.html</a>.</p>
<p>Find bregma position in indices * resolution in um</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span> <span class="o">=</span> <span class="n">AllenAtlas</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bregma_index</span> <span class="o">=</span> <span class="n">ALLEN_CCF_LANDMARKS_MLAPDV_UM</span><span class="p">[</span><span class="s1">&#39;bregma&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">ba</span><span class="o">.</span><span class="n">res_um</span>
</pre></div>
</div>
<p>Find bregma position in xyz in m (expect this to be 0 0 0)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bregma_xyz</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">bc</span><span class="o">.</span><span class="n">i2xyz</span><span class="p">(</span><span class="n">bregma_index</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="fixtures">
<h2>Fixtures<a class="headerlink" href="#fixtures" title="Link to this heading"></a></h2>
<section id="local-files">
<h3>Local files<a class="headerlink" href="#local-files" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>allen_structure_tree.csv</strong> - TODO Document. Where does this come from? Is it modified from either structure_tree_safe.csv or
structure_tree_safe_2017.csv?</p></li>
<li><p><strong>franklin_paxinos_structure_tree.csv</strong> - Obtained from Supplementary Data 2 in reference [10].</p></li>
<li><p><strong>beryl.npy</strong> - A 306 x 1 int32 array of Allen CCF brain region IDs generated in MATLAB <a class="footnote-reference brackets" href="#id14" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>*<span class="fn-bracket">]</span></a>. See more information see
<a href="#id29"><span class="problematic" id="id30">`Mappings`_</span></a>.</p></li>
<li><p><strong>cosmos.npy</strong> - A 10 x 1 int32 array of Allen CCF brain region IDs generated in MATLAB <a class="footnote-reference brackets" href="#id16" id="id13" role="doc-noteref"><span class="fn-bracket">[</span>†<span class="fn-bracket">]</span></a>. See more information see
<a href="#id31"><span class="problematic" id="id32">`Mappings`_</span></a>.</p></li>
<li><p><strong>swanson_regions.npy</strong> - A 1D array of length 323 containing the Allen CCF brain region IDs</p></li>
<li><p><strong>mappings.pqt</strong> - A table of mappings.  Each column defines a mapping, with the ‘-lr’ suffix indicating a lateralized version.
The rows contain the correspondence of each mapping to the int64 index of the lateralized Allen structure tree. The table is
generated by iblatlas.regions.BrainRegions._compute_mappings.</p></li>
</ul>
</section>
<section id="remote-files">
<h3>Remote files<a class="headerlink" href="#remote-files" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>annotation_&lt;res_um&gt;.nrrd</strong> - A 3D volume containing indicies of the regions in the associated
structure tree.  <cite>res_um</cite> indicates the isometric spacing in microns.  These uint16 indicies are
known as the region ‘index’ in the structure tree, i.e. the position of the region in the
flattened tree.</p></li>
<li><p><strong>average_template_&lt;res_um&gt;.nrrd</strong> - TODO Document</p></li>
<li><p><strong>annotation_&lt;res_um&gt;_lut_&lt;LUT_VERSION&gt;.npz</strong> - TODO Document</p></li>
<li><p><strong>FranklinPaxinons/annotation_&lt;res_um&gt;.npz</strong> - A 3D volume containing indices of the regions associated with the Franklin-
Paxinos structure tree.</p></li>
<li><p><strong>FranklinPaxinons/average_template_&lt;res_um&gt;.npz</strong> - A 3D volume containing the Allen dwi image slices corresponding to
the slices in the annotation volume [*] .</p></li>
<li><p><strong>swansonpaths.json</strong> - The paths of a vectorized Swanson flatmap image [*]. The vectorized version was generated
from the Swanson bitmap image using the matlab contour function to find the paths for each region. The paths for each
region were then simplified using the <a class="reference external" href="https://rdp.readthedocs.io/en/latest/">Ramer Douglas Peucker algorithm</a></p></li>
<li><p><strong>swanson2allen.npz</strong> - TODO Document who made this, its contents, purpose and data type</p></li>
<li><p><strong>&lt;flatmap_name&gt;_&lt;res_um&gt;.nrrd</strong> - TODO Document who made this, its contents, purpose and data type</p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id14" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id12">*</a><span class="fn-bracket">]</span></span>
<p>The annotation and average template volumes were created from the images provided in Supplemtary Data 4 of Chon et al. <a class="footnote-reference brackets" href="#id21" id="id15" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>
and stitched together as a single volume using SimpleITK.</p>
</aside>
<aside class="footnote brackets" id="id16" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id13">†</a><span class="fn-bracket">]</span></span>
<p>output of aggType 2 in <a class="reference external" href="https://github.com/cortex-lab/allenCCF/blob/master/Browsing%20Functions/aggregateAcr.m">https://github.com/cortex-lab/allenCCF/blob/master/Browsing%20Functions/aggregateAcr.m</a></p>
</aside>
<aside class="footnote brackets" id="id17" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>‡<span class="fn-bracket">]</span></span>
<p>output of aggType 1 in <a class="reference external" href="https://github.com/cortex-lab/allenCCF/blob/master/Browsing%20Functions/aggregateAcr.m">https://github.com/cortex-lab/allenCCF/blob/master/Browsing%20Functions/aggregateAcr.m</a></p>
</aside>
<aside class="footnote brackets" id="id18" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>§<span class="fn-bracket">]</span></span>
<p>the paths were generated from a bitmap of the
<a class="reference external" href="https://larrywswanson.com/wp-content/uploads/2015/03/BM3-flatmap-foldout.pdf">BM3 rat flatmap 3.0 foldout poster</a>
in <a class="reference external" href="https://larrywswanson.com/?page_id=164">Swanson LW (2004) Brain Maps, 3rd ed.</a> TODO where is code for this?</p>
</aside>
</aside>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id19" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>© 2015 Allen Institute for Brain Science. Allen Mouse Brain Atlas (2015) with region annotations (2017).
Available from: <a class="reference external" href="http://download.alleninstitute.org/informatics-archive/current-release/mouse_ccf/annotation/">http://download.alleninstitute.org/informatics-archive/current-release/mouse_ccf/annotation/</a></p>
</aside>
<aside class="footnote brackets" id="id20" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>Paxinos G, and Franklin KBJ (2012) The Mouse Brain in Stereotaxic Coordinates, 4th edition (Elsevier Academic Press)</p>
</aside>
<aside class="footnote brackets" id="id21" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id15">2</a>)</span>
<p>Chon U et al (2019) Enhanced and unified anatomical labeling for a common mouse brain atlas
[doi 10.1038/s41467-019-13057-w]</p>
</aside>
<aside class="footnote brackets" id="id22" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">4</a><span class="fn-bracket">]</span></span>
<p>Dorr AE, Lerch JP, Spring S, Kabani N, Henkelman RM (2008). High resolution three-dimensional brain atlas using an average
magnetic resonance image of 40 adult C57Bl/6J mice. Neuroimage 42(1):60-9. [doi 10.1016/j.neuroimage.2008.03.037]</p>
</aside>
<aside class="footnote brackets" id="id23" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id5">1</a>,<a role="doc-backlink" href="#id6">2</a>)</span>
<p>Qiu, LR, Fernandes, DJ, Szulc-Lerch, KU et al. (2018) Mouse MRI shows brain areas relatively larger
in males emerge before those larger in females. Nat Commun 9, 2615. [doi 10.1038/s41467-018-04921-2]</p>
</aside>
<aside class="footnote brackets" id="id24" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">6</a><span class="fn-bracket">]</span></span>
<p>International Brain Laboratory et al. (2022) Reproducibility of in-vivo electrophysiological measurements in mice.
bioRxiv. [doi 10.1101/2022.05.09.491042]</p>
</aside>
<aside class="footnote brackets" id="id25" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">7</a><span class="fn-bracket">]</span></span>
<p>International Brain Laboratory et al. (2023) A Brain-Wide Map of Neural Activity during Complex Behaviour.
bioRxiv. [doi 10.1101/2023.07.04.547681]</p>
</aside>
<aside class="footnote brackets" id="id26" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">8</a><span class="fn-bracket">]</span></span>
<p>Findling C et al. (2023) Brain-wide representations of prior information in mouse decision-making.
bioRxiv. [doi 10.1101/2023.07.04.547684]</p>
</aside>
<aside class="footnote brackets" id="id27" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">9</a><span class="fn-bracket">]</span></span>
<p>Swanson LW (2018) Brain maps 4.0—Structure of the rat brain: An open access atlas with global nervous system nomenclature
ontology and flatmaps. J Comp Neurol. [doi 10.1002/cne.24381]</p>
</aside>
<aside class="footnote brackets" id="id28" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">10</a><span class="fn-bracket">]</span></span>
<p>Allen Mouse Common Coordinate Framework Technical White Paper (October 2017 v3)
<a class="reference external" href="http://help.brain-map.org/download/attachments/8323525/Mouse_Common_Coordinate_Framework.pdf">http://help.brain-map.org/download/attachments/8323525/Mouse_Common_Coordinate_Framework.pdf</a></p>
</aside>
</aside>
</section>
</section>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="iblatlas.atlas.html#module-iblatlas.atlas" title="iblatlas.atlas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">atlas</span></code></a></p></td>
<td><p>Classes for manipulating brain atlases, insertions, and coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="iblatlas.flatmaps.html#module-iblatlas.flatmaps" title="iblatlas.flatmaps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flatmaps</span></code></a></p></td>
<td><p>Techniques to project the brain volume onto 2D images for visualisation purposes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="iblatlas.genomics.html#module-iblatlas.genomics" title="iblatlas.genomics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">genomics</span></code></a></p></td>
<td><p>A package for working with Allen genomics datasets: AGEA and MERFISH.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="iblatlas.plots.html#module-iblatlas.plots" title="iblatlas.plots"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plots</span></code></a></p></td>
<td><p>Module that has convenience plotting functions for 2D atlas slices and flatmaps.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="iblatlas.regions.html#module-iblatlas.regions" title="iblatlas.regions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regions</span></code></a></p></td>
<td><p>Brain region mappings.</p></td>
</tr>
</tbody>
</table>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="brainbox.video.html" class="btn btn-neutral float-left" title="brainbox.video" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="iblatlas.atlas.html" class="btn btn-neutral float-right" title="iblatlas.atlas" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, International Brain Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>